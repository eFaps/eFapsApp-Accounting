<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version last-->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Accounting_Journal" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="7015cf64-0aee-4bb9-ad93-18c76046ec30">
    <property name="net.sf.jasperreports.export.xls.exclude.origin.band.2" value="pageFooter"/>
    <property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.1" value="pageHeader"/>
    <property name="net.sf.jasperreports.export.xls.exclude.origin.band.4" value="columnFooter"/>
    <property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.3" value="columnHeader"/>
    <style name="TableHeading" mode="Transparent" forecolor="#000000" backcolor="#CCCCCC" fill="Solid" hAlign="Left" vAlign="Top" markup="styled" isBlankWhenNull="false" fontName="SansSerif" fontSize="12" isBold="true" isUnderline="false" isStrikeThrough="false" isPdfEmbedded="false">
        <pen lineWidth="1.0"/>
        <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
            <pen lineWidth="1.0"/>
            <topPen lineWidth="1.0" lineStyle="Solid"/>
            <leftPen lineWidth="1.0"/>
            <bottomPen lineWidth="1.0"/>
            <rightPen lineWidth="0.0" lineStyle="Solid"/>
        </box>
    </style>
    <parameter name="EFAPS_DEFINITION" class="java.lang.String" isForPrompting="false">
        <property name="UUID" value="b4ff05cd-70c2-4d70-a906-cee99b500798"/>
        <property name="Types" value="Accounting_TransactionAbstract"/>
        <property name="LinkFroms" value="PeriodeLink"/>
        <property name="expandChildTypes" value="true"/>
        <property name="hasSubReport" value="true"/>
    </parameter>
    <parameter name="EFAPS_SUBREPORT" class="java.util.HashMap"/>
    <parameter name="Name" class="java.lang.String" isForPrompting="false">
        <defaultValueExpression><![CDATA[""]]></defaultValueExpression>
    </parameter>
    <field name="description" class="java.lang.String">
        <property name="Select" value="attribute[Description]"/>
    </field>
    <field name="date" class="org.joda.time.DateTime">
        <property name="Select" value="attribute[Date]"/>
    </field>
    <field name="name" class="java.lang.String">
        <property name="Select" value="attribute[Name]"/>
    </field>
    <variable name="debitTransactionSum" class="java.math.BigDecimal" resetType="Page" calculation="Sum"/>
    <variable name="creditTransactionSum" class="java.math.BigDecimal" resetType="Page" calculation="Sum"/>
    <variable name="debitTransactionTotal" class="java.math.BigDecimal" calculation="Sum"/>
    <variable name="creditTransactionTotal" class="java.math.BigDecimal" calculation="Sum"/>
    <pageHeader>
        <band height="20" splitType="Stretch">
            <textField>
                <reportElement uuid="c62c6c94-8bda-4450-ae79-e9d641781df2" style="TableHeading" mode="Transparent" x="1" y="0" width="801" height="17" backcolor="#FFFFFF"/>
                <box topPadding="0" leftPadding="0" bottomPadding="2" rightPadding="2">
                    <pen lineWidth="0.0"/>
                    <topPen lineWidth="0.0"/>
                    <leftPen lineWidth="0.0"/>
                    <bottomPen lineWidth="0.0"/>
                    <rightPen lineWidth="0.0"/>
                </box>
                <textElement>
                    <font isUnderline="false"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.heading} + " " + $P{Name}]]></textFieldExpression>
            </textField>
        </band>
    </pageHeader>
    <columnHeader>
        <band height="33" splitType="Stretch">
            <textField>
                <reportElement uuid="6fc6643e-bfca-43ec-b125-049f122ff557" style="TableHeading" positionType="Float" mode="Opaque" x="399" y="17" width="60" height="16"/>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.accountName}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="58312de2-1878-40ba-abc2-4e88ebbc2c90" style="TableHeading" positionType="Float" mode="Opaque" x="46" y="17" width="67" height="16" backcolor="#CCCCCC">
                    <property name="net.sf.jasperreports.export.pdf.tag.table" value="start"/>
                </reportElement>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.date}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement uuid="6bad3ef6-2664-4671-94d1-2077cb059d5a" key="" x="662" y="0" width="70" height="14">
                    <printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.equals( new Integer(1) ))]]></printWhenExpression>
                </reportElement>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Lima,]]></text>
            </staticText>
            <textField pattern="dd.MM.yyyy">
                <reportElement uuid="9c263cab-7318-4aea-9b36-feee29c972c9" isPrintRepeatedValues="false" x="732" y="0" width="70" height="14"/>
                <textElement/>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="3fac5d6c-e20e-438a-95a5-6c1b25ee6101" style="TableHeading" positionType="Float" mode="Opaque" x="662" y="17" width="70" height="16"/>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center">
                    <font size="10" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.debit}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="98f689d6-db1f-4977-9640-aefc22b2982f" style="TableHeading" positionType="Float" mode="Opaque" x="113" y="17" width="286" height="16" backcolor="#CCCCCC"/>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.description}]]></textFieldExpression>
            </textField>
            <textField pattern="">
                <reportElement uuid="294ccacc-c12d-4308-9e6e-e6b72cbdc6b8" style="TableHeading" positionType="Float" mode="Opaque" x="1" y="17" width="45" height="16" backcolor="#CCCCCC">
                    <property name="net.sf.jasperreports.export.pdf.tag.table" value="start"/>
                </reportElement>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.name}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="77d6b386-e122-4113-bb18-184917697463" style="TableHeading" positionType="Float" mode="Opaque" x="459" y="17" width="203" height="16"/>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.accountDescription}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement uuid="c10c6bf4-29ba-4f29-bdf8-826a205566c2" style="TableHeading" positionType="Float" mode="Opaque" x="732" y="17" width="70" height="16"/>
                <box topPadding="2" leftPadding="2" bottomPadding="2" rightPadding="2">
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center">
                    <font size="10" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$R{Accounting_Transaction.jrxml.credit}]]></textFieldExpression>
            </textField>
        </band>
    </columnHeader>
    <detail>
        <band height="14" splitType="Prevent">
            <textField isStretchWithOverflow="true" pattern="dd.MM.yyyy" isBlankWhenNull="true">
                <reportElement uuid="77915ca7-02df-4fb7-8af3-7d3ed2dfd221" stretchType="RelativeToBandHeight" mode="Transparent" x="46" y="0" width="67" height="14"/>
                <box topPadding="2" leftPadding="2" bottomPadding="0" rightPadding="0">
                    <leftPen lineWidth="1.0"/>
                    <bottomPen lineWidth="1.0"/>
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Top">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{date}.toDate()]]></textFieldExpression>
            </textField>
            <textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
                <reportElement uuid="ef06e542-2d16-4617-9f19-5d12db4785fc" stretchType="RelativeToTallestObject" x="1" y="0" width="45" height="14"/>
                <box topPadding="2" leftPadding="2" rightPadding="2">
                    <leftPen lineWidth="1.0"/>
                    <bottomPen lineWidth="1.0"/>
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement textAlignment="Right" verticalAlignment="Top">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
            </textField>
            <textField isStretchWithOverflow="true" pattern="">
                <reportElement uuid="ac6dc846-03ce-4b41-9c09-09109ae78897" stretchType="RelativeToBandHeight" x="113" y="0" width="286" height="14"/>
                <box topPadding="2" leftPadding="2">
                    <leftPen lineWidth="1.0"/>
                    <bottomPen lineWidth="1.0"/>
                    <rightPen lineWidth="1.0"/>
                </box>
                <textElement verticalAlignment="Top">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
            </textField>
            <subreport>
                <reportElement uuid="c334422d-791a-45e6-9421-2d3c88684b37" x="399" y="0" width="403" height="14"/>
                <subreportParameter name="EFAPS_DEFINITION"/>
                <dataSourceExpression><![CDATA[$P{EFAPS_SUBREPORT}.get("Accounting_JournalPositions")]]></dataSourceExpression>
                <returnValue subreportVariable="debitSum" toVariable="debitTransactionSum" calculation="Sum"/>
                <returnValue subreportVariable="creditSum" toVariable="creditTransactionSum" calculation="Sum"/>
                <returnValue subreportVariable="debitSum" toVariable="debitTransactionTotal" calculation="Sum"/>
                <returnValue subreportVariable="creditSum" toVariable="creditTransactionTotal" calculation="Sum"/>
                <subreportExpression><![CDATA["JasperReport.Accounting_JournalPositions"]]></subreportExpression>
            </subreport>
        </band>
    </detail>
    <pageFooter>
        <band height="22" splitType="Stretch">
            <textField>
                <reportElement uuid="2883145f-8ff1-43ca-a3ac-9b6ec88d8f67" x="315" y="5" width="80" height="16"/>
                <textElement textAlignment="Right" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$V{PAGE_NUMBER}+ " / "]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report">
                <reportElement uuid="c83ffa09-baf7-468c-a9fd-8d042d20ecd4" x="395" y="5" width="40" height="16"/>
                <textElement verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
</jasperReport>
